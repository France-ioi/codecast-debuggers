FROM ubuntu:20.04

# Install Rust because adapter server is written in Rust
RUN apt-get update && apt-get install build-essential curl socat -y
RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs > rustup_install && sh rustup_install -y

# Add rust binaries to $PATH
ENV PATH="$PATH:/root/.cargo/bin"
#RUN echo "$PATH"
#RUN rustc -V
# RUN ls -la /usr/share/gcc
#RUN gcc --version

ENV ROOT=/usr/project
WORKDIR ${ROOT}

COPY vscode-lldb /usr/project/vscode-lldb
COPY code_hooks /usr/project/vscode-lldb/code_hooks
COPY lldb-startup-c.sh lldb-startup-cpp.sh /usr/project/vscode-lldb/

CMD [""]